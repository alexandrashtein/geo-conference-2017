## Code for part 1- R Basics

## ------------------------------------------------------------------------
1+5+3+7


## ------------------------------------------------------------------------
600

"Hello"

## ------------------------------------------------------------------------
5+3
4-5
1*10
1/10
10^2

## ------------------------------------------------------------------------
mean(10,5,20)
min(1,2,3)
sum(4,4,4)

## ------------------------------------------------------------------------
1+ 1

## ------------------------------------------------------------------------
2*
5

## ------------------------------------------------------------------------
1<2
2>=2
2!=2
(1<10) & (10<100)
(1<10) | (10<100)

1 == 1
1 != 1
!(1 == 1)

## ------------------------------------------------------------------------
0/0
NA + 3
NULL
NULL
1/0

## ------------------------------------------------------------------------
# An example for assignment
x = 3
x <- 3
x 

## ------------------------------------------------------------------------
# = is used for assignment 
one = 1
two = 2
one = two
one
two

# == is used as a condition expression
one = 1
two = 2
one == two

## ------------------------------------------------------------------------
x = 55
x
x = "Hello"
x

## ------------------------------------------------------------------------
ls()

## ------------------------------------------------------------------------
1+1 # This is comment

## ------------------------------------------------------------------------
# dim(x) - x	an R object, 
# for example a matrix, array or data frame.
dim(iris)

## ---- eval=FALSE---------------------------------------------------------
## ?str
## 

## ------------------------------------------------------------------------
dbl_var <- c(1, 2.5, 4.5) # Double
# With the L suffix, you get an integer 
# rather than a double
int_var <- c(1L, 6L, 10L)
# Use TRUE and FALSE (or T and F) 
# to create logical vectors
log_var <- c(TRUE, FALSE, T, F)
# Character\string vectors
chr_var <- c("these are", "some strings")


## ------------------------------------------------------------------------
x= c(1, 2, 3)
c(x, 5)
y = c("cat", "dog", "mouse", "apple")
y

## ------------------------------------------------------------------------
1:10
55:43

## ------------------------------------------------------------------------
seq(from = 100, to = 150, by = 10)
seq(from = 190, to = 150, by = -10)

## ------------------------------------------------------------------------
# Example 1
rep(x = 22, times = 10)
# Example 2
x = c(18, 0, 9)
rep(x = x, times = 3)
# Example 3
x = c(18, 0, 9)
rep(x = x, each = 3)


## ------------------------------------------------------------------------
dbl_var <- c(1, 2.5, 4.5,NA)
dbl_var <- c(1, 2.5, 4.5,NA_real_)

## ------------------------------------------------------------------------
# Example
x = c(28, 58, NA, 31, 39, NA, 9)
is.na(x)


## ------------------------------------------------------------------------
x = c(28, 58, NA, 31, 39, NA, 9)
mean(x)
mean(x, na.rm = TRUE)

## ------------------------------------------------------------------------
# The any() function accepts a logical vector 
# and returns TRUE if at least one of the vector's 
# elements is TRUE, otherwise it returns FALSE
x = 1:10
x > 8
any(x > 8)
any(x > 88)

## ------------------------------------------------------------------------
# The all() function accepts logical vector 
# and returns TRUE if all of the vector's elements
#  are TRUE, otherwise it returns FALSE
x = 1:10
x
all(x > 8)
all(x > 0)

## ------------------------------------------------------------------------
typeof(dbl_var)
is.character(dbl_var)
is.double(dbl_var)
is.numeric(dbl_var)

## ------------------------------------------------------------------------

str(c("a", 1))


## ------------------------------------------------------------------------

# A sample vector
v <- c(1,4,4,3,2,2,3)

v[c(2,3,4)]
v[2:4]
v[c(2,4,3)]

## ------------------------------------------------------------------------
# Example for recycling
x <- c(1,2,3)
y <- c(1,10)
x * y

## ------------------------------------------------------------------------
# Create a matrix - specify rows and columns
a <- matrix(1:6, ncol = 3, nrow = 2)

# You can also modify an object in place by setting dim()
c <- 1:6
dim(c) <- c(3, 2)
c

## ------------------------------------------------------------------------
a <- matrix(1:6, ncol = 3, nrow = 2)

length(a)
nrow(a)
ncol(a)
rownames(a) <- c("A", "B")
colnames(a) <- c("a", "b", "c")


## ------------------------------------------------------------------------
str(1:3)  
str(matrix(1:3, ncol = 1))
str(matrix(1:3, nrow = 1))

## ------------------------------------------------------------------------
x = matrix(1:6, ncol = 3)
x
x[2, ] # Show the vlaues of the second row
x[ ,2] # Show the vlaues of the second column


## ------------------------------------------------------------------------
# If you want to avoid the conversion of the result 
# to vector use drop= FALSE
x[2, , drop = FALSE]
x[, 2, drop = FALSE]

## ------------------------------------------------------------------------
df <- data.frame(x = 1:3, y = c("a", "b", "c"))
str(df)
class(df)
is.data.frame(df)
df

## ------------------------------------------------------------------------
# Create a sample data frame
data <- read.table(header=T, text='
 subject sex size
       1   M    7
       2   F    6
       3   F    9
       4   M   11
 ')


## ------------------------------------------------------------------------

# Get the element at row 1, column 3
data[1,3]
data[1,"size"]

## ------------------------------------------------------------------------
# Get rows 1 and 2, and all columns
data[1:2, ]   
data[c(1,2), ]

## ------------------------------------------------------------------------
# Get rows 1 and 2, and only column 2
data[1:2, 2]
data[c(1,2), 2]

# Get rows 1 and 2, and only the columns 
# named "sex" and "size"
data[1:2, c("sex","size")]
data[c(1,2), c(2,3)]

## ------------------------------------------------------------------------
cbind(df, data.frame(z = 3:1))
rbind(df, data.frame(x = 10, y = "z"))

## ------------------------------------------------------------------------
df = data.frame(a=c(1:3),b=c("A","B","C"),c=c(2,2,2))
df$new = df$a*df$c
df


## ------------------------------------------------------------------------
dat <- read.csv("C:/Users/Alex_dawn/Dropbox/R_workshop/alex/df_example.csv")

## ------------------------------------------------------------------------
head(dat)
tail(dat)
dim(dat)

## ------------------------------------------------------------------------
summary(dat)

## ------------------------------------------------------------------------
setwd("C:/Users/Alex_dawn/Dropbox/R_workshop/alex")
getwd()
dat <- read.csv("df_example.csv")

## ------------------------------------------------------------------------
list.files()

## ------------------------------------------------------------------------
x <- list(1:3, "a", c(TRUE, FALSE, TRUE), c(2.3, 5.9))
str(x)

## ------------------------------------------------------------------------
# First we will create a list
n = c(2, 3, 5) 
s = c("aa", "bb", "cc", "dd", "ee") 
b = c(TRUE, FALSE, TRUE, FALSE, FALSE) 
x = list(n, s, b, 3)   # x contains copies of n, s, b

x[2]


## ------------------------------------------------------------------------

# With an index vector, we can retrieve a slice with multiple members. Here a slice containing the second and fourth members of x.

x[c(2, 4)] 


## ------------------------------------------------------------------------
x[[2]] 

# We can modify its content directly.
x[[2]][1] = "ta" 
x[[2]] 

